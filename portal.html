<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Portal | The Whistle Stop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Staatliches&family=Inter:wght @300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        charcoal: '#1A1A1A',
                        barberRed: '#C8102E',
                        steamWhite: '#F5F5F5',
                        leather: '#3E2723',
                        brass: '#B8860B',
                    },
                    fontFamily: {
                        gothic: ['Staatliches', 'sans-serif'],
                        railway: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .leather-texture {
            background-image: url("https://www.transparenttextures.com/patterns/leather.png");
            background-color: #3E2723;
        }
        .ticket-bg {
            background-image: radial-gradient(circle at 0 50%, transparent 10px, #fff 10px),
                              radial-gradient(circle at 100% 50%, transparent 10px, #fff 10px);
            background-size: 100% 100%;
        }
    </style>
</head>
<body class="bg-charcoal text-steamWhite font-railway flex h-screen overflow-hidden">

    <!-- Mobile Menu Button -->
    <div class="fixed top-4 left-4 z-50 md:hidden">
        <button id="mobile-menu-toggle" class="bg-charcoal/80 backdrop-blur-sm p-2 rounded-sm border border-white/20">
            <i data-feather="menu" class="w-6 h-6 text-steamWhite"></i>
        </button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-sidebar-overlay" class="fixed inset-0 bg-black/70 z-30 hidden md:hidden opacity-0 transition-opacity duration-300"></div>

    <!-- Sidebar -->
    <aside id="sidebar" class="fixed md:relative top-0 left-0 w-64 h-full max-h-screen leather-texture border-r border-brass/20 flex flex-col shadow-2xl z-40 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out overflow-y-auto">
        <div class="p-6 text-center border-b border-white/10">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-3">
                    <img src="assets/whistle-stop.png" alt="Logo" class="h-10">
                    <h2 class="font-gothic text-xl tracking-widest text-steamWhite">THE PORTAL</h2>
                </div>
                <button id="close-sidebar" class="md:hidden p-2 text-steamWhite hover:text-barberRed transition-colors">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>
            <a href="index.html" class="inline-block bg-barberRed hover:bg-red-700 px-4 py-2 rounded-sm transition-all font-gothic text-sm">
                RETURN HOME
            </a>
        </div>

        <nav class="flex-1 p-4 space-y-2 mt-4">
            <a href="#" class="flex items-center gap-4 p-3 bg-brass/10 border-l-4 border-brass text-brass">
                <i data-feather="bar-chart-2" class="w-5 h-5"></i>
                <span class="font-gothic tracking-wider">MY ANALYTICS</span>
            </a>
            <a href="#" id="schedule-link" class="flex items-center gap-4 p-3 hover:bg-white/5 transition-colors">
                <i data-feather="calendar" class="w-5 h-5"></i>
                <span class="font-gothic tracking-wider">SCHEDULE</span>
            </a>
            <a href="#" id="services-link" class="flex items-center gap-4 p-3 hover:bg-white/5 transition-colors">
                <i data-feather="scissors" class="w-5 h-5"></i>
                <span class="font-gothic tracking-wider">SERVICES</span>
            </a>
            <a href="#" id="rewards-link" class="flex items-center gap-4 p-3 hover:bg-white/5 transition-colors">
                <i data-feather="award" class="w-5 h-5"></i>
                <span class="font-gothic tracking-wider">REWARDS</span>
            </a>
            <a href="#" id="store-link" class="flex items-center gap-4 p-3 hover:bg-white/5 transition-colors">
                <i data-feather="shopping-bag" class="w-5 h-5"></i>
                <span class="font-gothic tracking-wider">GENERAL STORE</span>
            </a>
        </nav>

        <div class="p-6 border-t border-white/10">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-barberRed flex items-center justify-center font-gothic">JD</div>
                <div>
                    <p class="text-xs uppercase tracking-widest opacity-50">Welcome back,</p>
                    <p class="font-gothic text-lg">John Doe</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main id="main-content" class="flex-1 overflow-y-auto bg-charcoal relative md:ml-0 transition-margin duration-300 ease-in-out">
        <div class="p-8 max-w-6xl mx-auto">
            
            <!-- Header -->
            <div class="flex justify-between items-end mb-12 border-b border-white/10 pb-6">
                <div>
                    <h1 class="font-gothic text-5xl tracking-tight">YOUR GROOMING JOURNEY</h1>
                    <p class="font-serif italic text-steamWhite/40">Tracking the tracks of your personal style.</p>
                </div>
                <div class="text-right">
                    <p class="font-gothic text-brass text-2xl">RAIL BARON TIER</p>
                    <p class="text-xs uppercase tracking-widest opacity-50">Next reward in 450 points</p>
                </div>
            </div>

            <!-- Analytics: Locomotive Progress -->
            <section class="mb-12">
                <div class="bg-black/40 p-10 rounded-sm border border-white/5 relative overflow-hidden">
                    <div class="flex justify-between items-center relative z-10">
                        <div class="text-center">
                            <div class="w-4 h-4 rounded-full bg-green-500 mx-auto mb-2"></div>
                            <p class="text-xs font-gothic tracking-widest opacity-50">LAST STOP</p>
                            <p class="font-gothic">OCT 12</p>
                        </div>
                        <div class="flex-1 h-1 bg-white/10 mx-4 relative">
                            <div class="absolute inset-0 bg-barberRed w-2/3"></div>
                            <div class="absolute top-1/2 left-2/3 -translate-y-1/2 -translate-x-1/2">
                                <i data-feather="truck" class="text-barberRed fill-barberRed rotate-180"></i>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="w-4 h-4 rounded-full bg-barberRed mx-auto mb-2 animate-pulse"></div>
                            <p class="text-xs font-gothic tracking-widest text-barberRed">NEXT STATION</p>
                            <p class="font-gothic">NOV 08</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Grid Layout -->
            <div class="grid md:grid-cols-3 gap-8">
                
                <!-- Timetable -->
                <div class="md:col-span-2">
                    <h3 class="font-gothic text-2xl mb-4 flex items-center gap-2">
                        <i data-feather="clock" class="text-brass"></i>
                        MAINTENANCE SCHEDULE
                    </h3>
                    <div class="bg-steamWhite text-charcoal p-1 rounded-sm">
                        <table class="w-full text-left font-mono text-sm border-collapse">
                            <thead class="bg-charcoal text-steamWhite font-gothic tracking-widest">
                                <tr>
                                    <th class="p-3">SERVICE</th>
                                    <th class="p-3">DUE DATE</th>
                                    <th class="p-3">STATUS</th>
                                    <th class="p-3 text-right">ACTION</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-charcoal/10">
                                    <td class="p-3 font-bold uppercase">Executive Trim</td>
                                    <td class="p-3">NOV 08, 1929</td>
                                    <td class="p-3"><span class="bg-barberRed text-white px-2 py-0.5 text-xs">DUE SOON</span></td>
                                    <td class="p-3 text-right"><button class="underline font-bold">BOOK</button></td>
                                </tr>
                                <tr class="border-b border-charcoal/10 opacity-50">
                                    <td class="p-3 font-bold uppercase">Hot Lather Shave</td>
                                    <td class="p-3">OCT 12, 1929</td>
                                    <td class="p-3">COMPLETED</td>
                                    <td class="p-3 text-right">---</td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-bold uppercase">Beard Sculpt</td>
                                    <td class="p-3">DEC 01, 1929</td>
                                    <td class="p-3">SCHEDULED</td>
                                    <td class="p-3 text-right"><button class="underline font-bold">EDIT</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Recommendations -->
                <div class="space-y-6">
                    <h3 class="font-gothic text-2xl mb-4 flex items-center gap-2">
                        <i data-feather="thumbs-up" class="text-barberRed"></i>
                        THE CONDUCTOR RECOMMENDS
                    </h3>
                    <div class="bg-leather p-6 rounded-sm border border-brass/30 text-steamWhite">
                        <p class="text-xs uppercase tracking-widest text-brass mb-2">Barber's Choice</p>
                        <img src="http://static.photos/cosmetic/320x240/1" class="w-full h-32 object-cover mb-4 grayscale contrast-125" alt="Product">
                        <h4 class="font-gothic text-xl mb-2">STEAM-WHISTLE POMADE</h4>
                        <p class="text-xs opacity-70 mb-4">"For a hold as strong as a locomotive engine."</p>
                        <button class="w-full bg-brass py-2 font-gothic tracking-widest text-charcoal hover:bg-yellow-600 transition-colors">ADD TO CART - $18</button>
                    </div>
                </div>

            </div>

        </div>
    </main>

    <!-- Calendar Permissions Modal -->
    <div id="permissions-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-charcoal border border-white/20 rounded-sm max-w-md w-full p-8 relative">
            <div class="text-center">
                <i data-feather="calendar" class="w-12 h-12 text-barberRed mx-auto mb-4"></i>
                <h3 class="font-gothic text-2xl mb-4">Calendar Permissions</h3>
                <p class="text-steamWhite/80 mb-6">Allow The Whistle Stop to access your calendar to sync appointments and avoid conflicts.</p>
                
                <div class="flex items-center justify-center gap-3 mb-6">
                    <input type="checkbox" id="remember-me" class="rounded bg-charcoal border-white/20">
                    <label for="remember-me" class="text-sm">Don't ask me again</label>
                </div>
                
                <div class="flex gap-4">
                    <button id="deny-permissions" class="flex-1 bg-white/10 hover:bg-white/20 text-steamWhite py-3 rounded-sm font-gothic transition-all">DENY</button>
                    <button id="grant-permissions" class="flex-1 bg-barberRed hover:bg-red-700 py-3 rounded-sm font-gothic transition-all">GRANT ACCESS</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Services Modal -->
    <div id="services-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-charcoal border border-white/20 rounded-sm max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="bg-black p-4 border-b border-white/10 flex justify-between items-center">
                <h3 class="font-gothic text-xl">OUR SERVICES</h3>
                <button id="close-services" class="text-steamWhite hover:text-barberRed">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-6">
                <div class="text-center mb-6">
                    <h4 class="font-gothic text-2xl mb-4 text-barberRed">BARBER'S MENU</h4>
                    <p class="text-steamWhite/80 mb-6">Experience the finest grooming services since 1929</p>
                </div>
                
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="md:w-1/2">
                        <img src="assets/Copilot_20260207_121828.png" alt="Services Menu" class="w-full h-auto rounded-sm border border-white/10">
                    </div>
                    
                    <div class="md:w-1/2">
                        <div class="space-y-4">
                            <div class="p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                                <h5 class="font-gothic text-lg text-barberRed mb-2">Classic Cut & Style</h5>
                                <p class="text-steamWhite/80 text-sm mb-2">Traditional haircut with precision styling</p>
                                <p class="font-gothic text-lg">$35</p>
                            </div>
                            
                            <div class="p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                                <h5 class="font-gothic text-lg text-barberRed mb-2">Hot Towel Shave</h5>
                                <p class="text-steamWhite/80 text-sm mb-2">Premium shave with warm towels and traditional technique</p>
                                <p class="font-gothic text-lg">$45</p>
                            </div>
                            
                            <div class="p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                                <h5 class="font-gothic text-lg text-barberRed mb-2">Beard Trim & Shape</h5>
                                <p class="text-steamWhite/80 text-sm mb-2">Precision shaping and styling for the modern gentleman</p>
                                <p class="font-gothic text-lg">$30</p>
                            </div>
                            
                            <div class="p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                                <h5 class="font-gothic text-lg text-barberRed mb-2">Full Service Experience</h5>
                                <p class="text-steamWhite/80 text-sm mb-2">Complete grooming package with all premium services</p>
                                <p class="font-gothic text-lg">$65</p>
                            </div>
                            
                            <div class="p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                                <h5 class="font-gothic text-lg text-barberRed mb-2">Special Occasion Grooming</h5>
                                <p class="text-steamWhite/80 text-sm mb-2">Custom styling for weddings, events, and special occasions</p>
                                <p class="font-gothic text-lg">$55</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Rewards Modal -->
    <div id="rewards-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-charcoal border border-white/20 rounded-sm max-w-2xl w-full max-h-[90vh] flex flex-col">
            <div class="bg-black p-4 border-b border-white/10 flex justify-between items-center">
                <h3 class="font-gothic text-xl">REWARDS PROGRAM</h3>
                <button id="close-rewards" class="text-steamWhite hover:text-barberRed">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-8 overflow-y-auto flex-1">
                <div class="text-center mb-8">
                    <div class="w-24 h-24 bg-barberRed rounded-full flex items-center justify-center mx-auto mb-6">
                        <i data-feather="award" class="w-12 h-12 text-steamWhite"></i>
                    </div>
                    <h4 class="font-gothic text-3xl text-barberRed mb-4">JOIN THE RAIL BARON TIER</h4>
                    <p class="text-steamWhite/80">Our premium rewards program for valued customers</p>
                </div>

                <div class="space-y-6 mb-8">
                    <div class="flex items-start gap-4 p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                        <div class="mt-1">
                            <div class="w-8 h-8 rounded-full bg-barberRed flex items-center justify-center">
                                <i data-feather="percent" class="w-4 h-4 text-steamWhite"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-gothic text-lg mb-2">10% DISCOUNT ON ALL SERVICES</h5>
                            <p class="text-steamWhite/70">Enjoy a permanent 10% reduction on every service at The Whistle Stop</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4 p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                        <div class="mt-1">
                            <div class="w-8 h-8 rounded-full bg-brass flex items-center justify-center">
                                <i data-feather="clock" class="w-4 h-4 text-charcoal"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-gothic text-lg mb-2">PREFERRED BOOKING</h5>
                            <p class="text-steamWhite/70">Get priority access to prime time slots and exclusive booking windows</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4 p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                        <div class="mt-1">
                            <div class="w-8 h-8 rounded-full bg-barberRed flex items-center justify-center">
                                <i data-feather="tag" class="w-4 h-4 text-steamWhite"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-gothic text-lg mb-2">DISCOUNTED PRODUCTS</h5>
                            <p class="text-steamWhite/70">Access to premium grooming products at reduced rates</p>
                        </div>
                    </div>

                    <div class="flex items-start gap-4 p-4 bg-steamWhite/5 border border-white/10 rounded-sm">
                        <div class="mt-1">
                            <div class="w-8 h-8 rounded-full bg-brass flex items-center justify-center">
                                <i data-feather="zap" class="w-4 h-4 text-charcoal"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-gothic text-lg mb-2">ACCESS TO FLASH SALES</h5>
                            <p class="text-steamWhite/70">Exclusive access to heavily discounted hourly sales on services and products</p>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button id="sign-up-rewards" class="bg-barberRed hover:bg-red-700 px-8 py-4 rounded-sm font-gothic text-xl mb-4 transition-all">
                        SIGN UP NOW
                    </button>
                    <div>
                        <button class="bg-brass hover:bg-yellow-600 px-8 py-3 rounded-sm font-gothic text-base transition-all">
                            SUBSCRIBE
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- General Store Modal -->
    <div id="store-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden">
        <div class="flex flex-col h-full">
            <!-- Modal Header -->
            <div class="bg-black p-4 border-b border-white/10 flex justify-between items-center">
                <h3 class="font-gothic text-xl">GENERAL STORE</h3>
                <div class="flex gap-4">
                    <button id="view-cart" class="text-steamWhite hover:text-barberRed relative">
                        <i data-feather="shopping-cart" class="w-6 h-6"></i>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-barberRed text-steamWhite text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                    <button id="close-store" class="text-steamWhite hover:text-barberRed">
                        <i data-feather="x" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
            
            <!-- Modal Body -->
            <div class="flex-1 flex flex-col md:flex-row overflow-hidden">
                <!-- Products Section -->
                <div class="w-full md:w-2/3 bg-charcoal p-6 border-r border-white/10 overflow-y-auto">
                    <h4 class="font-gothic text-xl mb-6 text-steamWhite">PRODUCTS</h4>
                    <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Products will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Cart Section -->
                <div id="cart-section" class="w-full md:w-1/3 bg-steamWhite text-charcoal p-6 overflow-y-auto hidden">
                    <h4 class="font-gothic text-xl mb-6 text-charcoal">SHOPPING CART</h4>
                    <div id="cart-items">
                        <!-- Cart items will be populated by JavaScript -->
                    </div>
                    <div id="cart-total" class="mt-6 pt-4 border-t border-charcoal font-gothic text-lg">
                        Total: $<span id="total-amount">0.00</span>
                    </div>
                    <button id="checkout-btn" class="w-full bg-barberRed text-steamWhite py-3 rounded-sm font-gothic hover:bg-red-700 transition-all mt-4">
                        CHECKOUT
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
        <div class="bg-charcoal border border-white/20 rounded-sm max-w-md w-full">
            <div class="bg-black p-4 border-b border-white/10 flex justify-between items-center">
                <h3 class="font-gothic text-xl">CHECKOUT</h3>
                <button id="close-checkout" class="text-steamWhite hover:text-barberRed">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>
            <div class="p-6">
                <h4 class="font-gothic text-lg mb-4">SELECT PAYMENT METHOD</h4>
                
                <!-- Saved Payment Methods -->
                <div id="saved-payments" class="mb-6">
                    <div class="flex items-center mb-3">
                        <input type="radio" name="payment-method" id="saved-card-1" value="saved-card-1" class="mr-3" checked>
                        <label for="saved-card-1" class="flex-1 flex items-center">
                            <i data-feather="credit-card" class="w-5 h-5 mr-2 text-barberRed"></i>
                            <span>Visa ending in 1234</span>
                            <span class="ml-auto text-sm">Expires 12/25</span>
                        </label>
                    </div>
                    <div class="flex items-center">
                        <input type="radio" name="payment-method" id="saved-card-2" value="saved-card-2" class="mr-3">
                        <label for="saved-card-2" class="flex-1 flex items-center">
                            <i data-feather="credit-card" class="w-5 h-5 mr-2 text-barberRed"></i>
                            <span>Mastercard ending in 5678</span>
                            <span class="ml-auto text-sm">Expires 08/26</span>
                        </label>
                    </div>
                </div>
                
                <div class="flex items-center my-4">
                    <div class="flex-grow border-t border-white/20"></div>
                    <span class="flex-shrink mx-4 text-steamWhite/60 font-gothic">OR ADD NEW</span>
                    <div class="flex-grow border-t border-white/20"></div>
                </div>
                
                <!-- New Payment Method -->
                <div id="new-payment-form">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-left font-gothic text-sm mb-2">CARDHOLDER NAME</label>
                            <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-3 text-steamWhite focus:outline-none focus:border-barberRed" placeholder="John Doe">
                        </div>
                        <div>
                            <label class="block text-left font-gothic text-sm mb-2">CARD NUMBER</label>
                            <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-3 text-steamWhite focus:outline-none focus:border-barberRed" placeholder="0000 0000 0000 0000">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-left font-gothic text-sm mb-2">EXPIRY DATE</label>
                                <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-3 text-steamWhite focus:outline-none focus:border-barberRed" placeholder="MM/YY">
                            </div>
                            <div>
                                <label class="block text-left font-gothic text-sm mb-2">CVV</label>
                                <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-3 text-steamWhite focus:outline-none focus:border-barberRed" placeholder="123">
                            </div>
                        </div>
                        <div class="flex items-center mt-4">
                            <input type="checkbox" id="save-card" class="mr-3">
                            <label for="save-card" class="text-sm">Save this card for future purchases</label>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8">
                    <button id="complete-order" class="w-full bg-barberRed hover:bg-red-700 px-8 py-4 rounded-sm font-gothic text-xl">
                        COMPLETE ORDER
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scheduling Modal -->
    <div id="scheduling-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden">
        <div class="flex flex-col h-full">
            <!-- Modal Header -->
            <div class="bg-black p-4 border-b border-white/10 flex justify-between items-center">
                <h3 class="font-gothic text-xl">APPOINTMENT SCHEDULING</h3>
                <button id="close-scheduling" class="text-steamWhite hover:text-barberRed">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="flex-1 flex flex-col md:flex-row overflow-hidden">
                <!-- Calendar Section -->
                <div class="w-full md:w-1/3 bg-charcoal p-6 border-r border-white/10 overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <button id="prev-month" class="bg-white/10 hover:bg-white/20 p-2 rounded-sm">
                            <i data-feather="chevron-left" class="w-5 h-5"></i>
                        </button>
                        <h4 id="current-month-year" class="font-gothic text-lg"></h4>
                        <button id="next-month" class="bg-white/10 hover:bg-white/20 p-2 rounded-sm">
                            <i data-feather="chevron-right" class="w-5 h-5"></i>
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-7 gap-1 mb-2">
                        <div class="text-center text-xs font-gothic text-steamWhite/60">SUN</div>
                        <div class="text-center text-xs font-gothic text-steamWhite/60">MON</div>
                        <div class="text-center text-xs font-gothic text-steamWhite/60">TUE</div>
                        <div class="text-center text-xs font-gothic text-steamWhite/60">WED</div>
                        <div class="text-center text-xs font-gothic text-steamWhite/60">THU</div>
                        <div class="text-center text-xs font-gothic text-steamWhite/60">FRI</div>
                        <div class="text-center text-xs font-gothic text-steamWhite/60">SAT</div>
                    </div>
                    
                    <div id="calendar-grid" class="grid grid-cols-7 gap-1">
                        <!-- Calendar days will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Actions Section -->
                <div class="w-full md:w-2/3 bg-steamWhite text-charcoal p-6 overflow-y-auto">
                    <div class="mb-8">
                        <h4 class="font-gothic text-xl mb-4 text-charcoal">SELECTED DATE: <span id="selected-date">None</span></h4>
                        <div id="available-times" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Time slots will be populated by JavaScript -->
                        </div>
                        
                        <!-- Services Selection (shown after time selection) -->
                        <div id="services-section" class="mt-8 hidden">
                            <h4 class="font-gothic text-xl mb-4 text-charcoal">SELECT SERVICE</h4>
                            <div class="space-y-3">
                                <div class="flex items-center">
                                    <input type="radio" name="service" id="classic-cut" value="classic-cut" class="mr-3">
                                    <label for="classic-cut" class="flex-1">Classic Cut & Style</label>
                                    <span class="font-gothic">$35</span>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="service" id="hot-towel" value="hot-towel" class="mr-3">
                                    <label for="hot-towel">Hot Towel Shave</label>
                                    <span class="font-gothic">$45</span>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="service" id="beard-trim" value="beard-trim" class="mr-3">
                                    <label for="beard-trim">Beard Trim & Shape</label>
                                    <span class="font-gothic">$30</span>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="service" id="full-service" value="full-service" class="mr-3">
                                    <label for="full-service">Full Service Experience</label>
                                    <span class="font-gothic">$65</span>
                                </div>
                                <div class="flex items-center">
                                    <input type="radio" name="service" id="special-occasion" value="special-occasion" class="mr-3">
                                    <label for="special-occasion">Special Occasion Grooming</label>
                                    <span class="font-gothic">$55</span>
                                </div>
                            </div>
                            
                            <!-- Payment Options (shown after service selection) -->
                            <div id="payment-options" class="mt-8 hidden">
                                <h4 class="font-gothic text-xl mb-4 text-charcoal">PAYMENT OPTIONS</h4>
                                <div class="space-y-4">
                                    <div class="flex items-center">
                                        <input type="radio" name="payment" id="pay-now" value="pay-now" class="mr-3">
                                        <label for="pay-now" class="flex-1">
                                            Pay Now & Save 5%
                                            <span class="block text-sm text-gray-600">Save $<span id="discount-amount-display">0.00</span> on this service</span>
                                        </label>
                                        <span class="font-gothic text-green-600">-$<span id="discount-amount-display-2">0.00</span></span>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="radio" name="payment" id="pay-at-appt" value="pay-at-appt" class="mr-3">
                                        <label for="pay-at-appt" class="flex-1">Pay at Appointment</label>
                                    </div>
                                    
                                    <!-- Payment Info (shown when Pay Now is selected) -->
                                    <div id="payment-info" class="mt-6 p-4 bg-white/10 rounded-sm hidden">
                                        <h5 class="font-gothic mb-3">ENTER CARD INFORMATION</h5>
                                        <div class="space-y-4">
                                            <div>
                                                <label class="block text-sm mb-1">Card Number</label>
                                                <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-2 text-steamWhite" placeholder="0000 0000 0000 0000">
                                            </div>
                                            <div class="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label class="block text-sm mb-1">Expiry Date</label>
                                                    <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-2 text-steamWhite" placeholder="MM/YY">
                                                </div>
                                                <div>
                                                    <label class="block text-sm mb-1">CVV</label>
                                                    <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-2 text-steamWhite" placeholder="123">
                                                </div>
                                            </div>
                                            <div>
                                                <label class="block text-sm mb-1">Cardholder Name</label>
                                                <input type="text" class="w-full bg-charcoal border border-white/20 rounded-sm p-2 text-steamWhite" placeholder="John Doe">
                                            </div>
                                        </div>
                                        <p class="mt-4 text-sm text-red-500 font-gothic">NO REFUNDS, BUT RESCHEDULING WELCOME</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <button class="w-full bg-charcoal text-steamWhite py-3 rounded-sm font-gothic hover:bg-black transition-all">
                            <i data-feather="clock" class="w-5 h-5 inline mr-2"></i> SEE PAST APPOINTMENTS
                        </button>
                        <button id="schedule-appointment" class="w-full bg-barberRed text-steamWhite py-3 rounded-sm font-gothic hover:bg-red-700 transition-all">
                            <i data-feather="plus" class="w-5 h-5 inline mr-2"></i> SCHEDULE APPOINTMENT
                        </button>
                        <button id="cancel-appointment" class="w-full bg-white/10 text-steamWhite py-3 rounded-sm font-gothic hover:bg-white/20 transition-all">
                            <i data-feather="x" class="w-5 h-5 inline mr-2"></i> CANCEL APPOINTMENT
                        </button>
                        <button class="w-full bg-brass text-charcoal py-3 rounded-sm font-gothic hover:bg-yellow-600 transition-all">
                            <i data-feather="award" class="w-5 h-5 inline mr-2"></i> JOIN REWARDS CLUB
                        </button>
                    </div>
                    
                    <div id="cancellation-info" class="mt-6 p-4 bg-white/10 rounded-sm hidden">
                        <p class="font-gothic text-sm">CANCELLATION POLICY:</p>
                        <p class="text-sm mt-2">Appointments cancelled with less than 24 hours notice will incur a $15 cancellation fee.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        feather.replace();
        
        // Get email from URL parameter and update welcome message
        const urlParams = new URLSearchParams(window.location.search);
        const email = urlParams.get('email');
        
        if (email) {
            // Extract first name from email if possible, otherwise use full email
            let displayName = email;
            if (email.includes('@')) {
                displayName = email.split('@')[0];
                // Capitalize first letter
                displayName = displayName.charAt(0).toUpperCase() + displayName.slice(1);
            }
            
            // Update the welcome message
            const welcomeElement = document.querySelector('.border-t.border-white\\/10 div div p.font-gothic.text-lg');
            if (welcomeElement) {
                welcomeElement.textContent = displayName;
            }
            
            // Update the initials in the avatar circle
            const avatarElement = document.querySelector('.border-t.border-white\\/10 div div:first-child div');
            if (avatarElement) {
                const initial = displayName.substring(0, 2).toUpperCase();
                avatarElement.textContent = initial;
            }
        }
        
        // Scheduling and Services functionality
        document.addEventListener('DOMContentLoaded', function() {
            const scheduleLink = document.getElementById('schedule-link');
            const servicesLink = document.getElementById('services-link');
            const rewardsLink = document.getElementById('rewards-link');
            const storeLink = document.getElementById('store-link');
            const permissionsModal = document.getElementById('permissions-modal');
            const schedulingModal = document.getElementById('scheduling-modal');
            const servicesModal = document.getElementById('services-modal');
            const rewardsModal = document.getElementById('rewards-modal');
            const storeModal = document.getElementById('store-modal');
            const checkoutModal = document.getElementById('checkout-modal');
            const grantPermissionsBtn = document.getElementById('grant-permissions');
            const denyPermissionsBtn = document.getElementById('deny-permissions');
            const closeSchedulingBtn = document.getElementById('close-scheduling');
            const closeServicesBtn = document.getElementById('close-services');
            const closeRewardsBtn = document.getElementById('close-rewards');
            const closeStoreBtn = document.getElementById('close-store');
            const closeCheckoutBtn = document.getElementById('close-checkout');
            const viewCartBtn = document.getElementById('view-cart');
            const cartSection = document.getElementById('cart-section');
            const cartItems = document.getElementById('cart-items');
            const cartCount = document.getElementById('cart-count');
            const totalAmount = document.getElementById('total-amount');
            const checkoutBtn = document.getElementById('checkout-btn');
            const completeOrderBtn = document.getElementById('complete-order');
            const signUpRewardsBtn = document.getElementById('sign-up-rewards');
            const prevMonthBtn = document.getElementById('prev-month');
            const nextMonthBtn = document.getElementById('next-month');
            const currentMonthYearEl = document.getElementById('current-month-year');
            const calendarGrid = document.getElementById('calendar-grid');
            const selectedDateEl = document.getElementById('selected-date');
            const availableTimesEl = document.getElementById('available-times');
            const cancelAppointmentBtn = document.getElementById('cancel-appointment');
            const cancellationInfo = document.getElementById('cancellation-info');
            const scheduleAppointmentBtn = document.getElementById('schedule-appointment');
            
            let currentDate = new Date();
            let selectedDate = null;
            let hasCalendarPermission = localStorage.getItem('calendarPermissionGranted') === 'true';
            
            // Check if we should show permissions modal
            if (!hasCalendarPermission) {
                permissionsModal.classList.remove('hidden');
            } else {
                scheduleLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    schedulingModal.classList.remove('hidden');
                });
            }
            
            // Services modal functionality
            servicesLink.addEventListener('click', function(e) {
                e.preventDefault();
                servicesModal.classList.remove('hidden');
            });
            
            // Close services modal
            closeServicesBtn.addEventListener('click', function() {
                servicesModal.classList.add('hidden');
            });
            
            // Rewards modal functionality
            rewardsLink.addEventListener('click', function(e) {
                e.preventDefault();
                rewardsModal.classList.remove('hidden');
            });
            
            // Close rewards modal
            closeRewardsBtn.addEventListener('click', function() {
                rewardsModal.classList.add('hidden');
            });

            // Close rewards modal when clicking outside the modal content
            rewardsModal.addEventListener('click', function(e) {
                if (e.target === rewardsModal) {
                    rewardsModal.classList.add('hidden');
                }
            });
            
            // Sign up for rewards
            signUpRewardsBtn.addEventListener('click', function() {
                alert('Thank you for joining the Rail Baron Tier rewards program!');
                rewardsModal.classList.add('hidden');
            });
            
            // Subscribe functionality
            document.querySelectorAll('#rewards-modal button').forEach(button => {
                if (button.classList.contains('bg-brass')) {
                    button.addEventListener('click', function() {
                        alert('Subscription confirmed! You will receive updates about flash sales and special offers.');
                    });
                }
            });
            
            // Store modal functionality
            storeLink.addEventListener('click', function(e) {
                e.preventDefault();
                storeModal.classList.remove('hidden');
                // Populate products when modal opens
                populateProducts();
            });
            
            // Close store modal
            closeStoreBtn.addEventListener('click', function() {
                storeModal.classList.add('hidden');
            });
            
            // View cart toggle
            viewCartBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                cartSection.classList.toggle('hidden');
            });
            
            // Close checkout modal
            closeCheckoutBtn.addEventListener('click', function() {
                checkoutModal.classList.add('hidden');
            });
            
            // Cart functionality
            let cart = [];
            let products = [
                { id: 1, name: "Steam-Whistle Pomade", price: 18.99, description: "For a hold as strong as a locomotive engine", image: "http://static.photos/cosmetic/320x240/1" },
                { id: 2, name: "Bay Rum After-Shave", price: 24.99, description: "Classic scent with a modern twist", image: "http://static.photos/cosmetic/320x240/2" },
                { id: 3, name: "Barber's Canvas Brush", price: 32.50, description: "Handcrafted with premium bristles", image: "http://static.photos/cosmetic/320x240/3" },
                { id: 4, name: "Railroad Stripe Towels", price: 14.99, description: "Authentic vintage-style towels", image: "http://static.photos/cosmetic/320x240/4" },
                { id: 5, name: "Vintage Safety Razor", price: 45.00, description: "Precision-engineered for the modern gentleman", image: "http://static.photos/cosmetic/320x240/5" },
                { id: 6, name: "Barber's Cologne", price: 29.99, description: "Notes of leather and steel", image: "http://static.photos/cosmetic/320x240/6" }
            ];
            
            // Populate products in the store
            function populateProducts() {
                const productsGrid = document.getElementById('products-grid');
                productsGrid.innerHTML = '';
                
                products.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.className = 'bg-steamWhite/5 border border-white/10 rounded-sm p-4';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="w-full h-32 object-cover mb-4 rounded-sm grayscale contrast-125">
                        <h5 class="font-gothic text-lg mb-2">${product.name}</h5>
                        <p class="text-steamWhite/70 text-sm mb-3">${product.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="font-gothic text-lg">$${product.price.toFixed(2)}</span>
                            <button class="add-to-cart bg-barberRed hover:bg-red-700 px-3 py-1 rounded-sm text-sm" data-id="${product.id}">
                                ADD TO CART
                            </button>
                        </div>
                    `;
                    productsGrid.appendChild(productCard);
                });
                
                // Add event listeners to add to cart buttons
                document.querySelectorAll('.add-to-cart').forEach(button => {
                    button.addEventListener('click', function() {
                        const productId = parseInt(this.getAttribute('data-id'));
                        addToCart(productId);
                    });
                });
            }
            
            // Add item to cart
            function addToCart(productId) {
                const product = products.find(p => p.id === productId);
                if (product) {
                    // Check if product is already in cart
                    const existingItem = cart.find(item => item.id === productId);
                    if (existingItem) {
                        existingItem.quantity++;
                    } else {
                        cart.push({...product, quantity: 1});
                    }
                    updateCart();
                }
            }
            
            // Update cart display
            function updateCart() {
                // Update cart count
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.textContent = totalItems;
                
                // Update cart items
                cartItems.innerHTML = '';
                let total = 0;
                
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    
                    const cartItem = document.createElement('div');
                    cartItem.className = 'flex justify-between items-center py-2 border-b border-charcoal/30';
                    cartItem.innerHTML = `
                        <div>
                            <p class="font-gothic">${item.name}</p>
                            <p class="text-sm">$${item.price.toFixed(2)} x ${item.quantity}</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="font-gothic">$${itemTotal.toFixed(2)}</span>
                            <button class="remove-item text-red-500 hover:text-red-700" data-id="${item.id}">
                                <i data-feather="x" class="w-4 h-4"></i>
                            </button>
                        </div>
                    `;
                    cartItems.appendChild(cartItem);
                });
                
                // Update total amount
                totalAmount.textContent = total.toFixed(2);
                
                // Add event listeners to remove buttons
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function() {
                        const productId = parseInt(this.getAttribute('data-id'));
                        removeFromCart(productId);
                    });
                });
                
                // Reinitialize feather icons
                feather.replace();
            }
            
            // Remove item from cart
            function removeFromCart(productId) {
                cart = cart.filter(item => {
                    if (item.id === productId) {
                        if (item.quantity > 1) {
                            item.quantity--;
                            return true;
                        }
                        return false;
                    }
                    return true;
                });
                updateCart();
            }
            
            // Checkout button event
            checkoutBtn.addEventListener('click', function() {
                if (cart.length === 0) {
                    alert('Your cart is empty!');
                    return;
                }
                storeModal.classList.add('hidden');
                checkoutModal.classList.remove('hidden');
            });
            
            // Complete order event
            completeOrderBtn.addEventListener('click', function() {
                alert('Order placed successfully! Thank you for your purchase.');
                cart = []; // Clear cart
                updateCart();
                checkoutModal.classList.add('hidden');
                
                // Show cart section again if it was open
                if (!cartSection.classList.contains('hidden')) {
                    cartSection.classList.add('hidden');
                }
            });
            
            // Grant permissions
            grantPermissionsBtn.addEventListener('click', function() {
                const rememberMe = document.getElementById('remember-me').checked;
                if (rememberMe) {
                    localStorage.setItem('calendarPermissionGranted', 'true');
                }
                permissionsModal.classList.add('hidden');
                schedulingModal.classList.remove('hidden');
            });
            
            // Deny permissions
            denyPermissionsBtn.addEventListener('click', function() {
                const rememberMe = document.getElementById('remember-me').checked;
                if (rememberMe) {
                    localStorage.setItem('calendarPermissionGranted', 'false');
                }
                permissionsModal.classList.add('hidden');
            });
            
            // Close scheduling modal
            closeSchedulingBtn.addEventListener('click', function() {
                schedulingModal.classList.add('hidden');
            });
            
            // Navigate calendar months
            prevMonthBtn.addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });
            
            nextMonthBtn.addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });
            
            // Show cancellation info when cancel button is clicked
            cancelAppointmentBtn.addEventListener('click', function() {
                cancellationInfo.classList.remove('hidden');
            });
            
            // Variables to store selected service and payment method
            let selectedService = null;
            let selectedPaymentMethod = null;
            
            // Add event listeners for service selection
            document.querySelectorAll('input[name="service"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    selectedService = this.value;
                    // Show payment options after service selection
                    document.getElementById('payment-options').classList.remove('hidden');
                });
            });
            
            // Add event listeners for payment method selection
            document.querySelectorAll('input[name="payment"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    selectedPaymentMethod = this.value;
                    
                    if (this.id === 'pay-now') {
                        // Show payment info when "Pay Now" is selected
                        document.getElementById('payment-info').classList.remove('hidden');
                        
                        // Calculate and display discount
                        const serviceName = document.querySelector('input[name="service"]:checked').value;
                        let price = 0;
                        
                        switch(serviceName) {
                            case 'classic-cut': price = 35; break;
                            case 'hot-towel': price = 45; break;
                            case 'beard-trim': price = 30; break;
                            case 'full-service': price = 65; break;
                            case 'special-occasion': price = 55; break;
                        }
                        
                        const discountAmount = (price * 0.05).toFixed(2);
                        
                        // Update the discount text displays
                        document.getElementById('discount-amount-display').textContent = discountAmount;
                        document.getElementById('discount-amount-display-2').textContent = discountAmount;
                    } else {
                        // Hide payment info when "Pay at Appointment" is selected
                        document.getElementById('payment-info').classList.add('hidden');
                    }
                });
            });
            
            // Schedule appointment
            scheduleAppointmentBtn.addEventListener('click', function() {
                if (selectedDate && selectedService && selectedPaymentMethod) {
                    let message = 'Appointment scheduled for ' + selectedDate.toDateString();
                    
                    if (selectedPaymentMethod === 'pay-now') {
                        message += ' with payment completed.';
                    } else {
                        message += ' with payment due at appointment.';
                    }
                    
                    alert(message);
                } else {
                    let missing = [];
                    if (!selectedDate) missing.push('date and time');
                    if (!selectedService) missing.push('service');
                    if (!selectedPaymentMethod) missing.push('payment method');
                    
                    alert('Please select: ' + missing.join(', '));
                }
            });
            
            // Render calendar function
            function renderCalendar() {
                // Clear the calendar grid
                calendarGrid.innerHTML = '';
                
                // Set the month/year header
                currentMonthYearEl.textContent = currentDate.toLocaleString('default', { month: 'long', year: 'numeric' });
                
                // Get first day of month and last day of month
                const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
                const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
                
                // Get day of week for first day (0 = Sunday, 1 = Monday, etc)
                const firstDayOfWeek = firstDay.getDay();
                
                // Add empty cells for days before the first day of the month
                for (let i = 0; i < firstDayOfWeek; i++) {
                    const emptyCell = document.createElement('div');
                    emptyCell.className = 'h-10';
                    calendarGrid.appendChild(emptyCell);
                }
                
                // Add cells for each day of the month
                for (let day = 1; day <= lastDay.getDate(); day++) {
                    const dayCell = document.createElement('div');
                    const dayDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
                    
                    // Check if this day is today
                    const today = new Date();
                    const isToday = dayDate.getDate() === today.getDate() &&
                                   dayDate.getMonth() === today.getMonth() &&
                                   dayDate.getFullYear() === today.getFullYear();
                    
                    // Check if this day is in the past
                    const isPast = dayDate < today && 
                                  dayDate.getMonth() === today.getMonth() &&
                                  dayDate.getFullYear() === today.getFullYear();
                                  
                    // Check if this day has appointments (mock data)
                    const hasAppointment = Math.random() > 0.7; // Random mock data
                    
                    // Check if this day is fully booked (mock data)
                    const isFullyBooked = Math.random() > 0.8; // Random mock data
                    
                    dayCell.className = 'h-10 flex items-center justify-center text-sm cursor-pointer hover:bg-white/10 rounded-sm transition-all ';
                    
                    if (isToday) {
                        dayCell.classList.add('bg-barberRed', 'text-steamWhite');
                    } else if (isPast) {
                        dayCell.classList.add('text-steamWhite/40');
                    } else if (hasAppointment) {
                        dayCell.classList.add('bg-brass', 'text-charcoal');
                    } else if (isFullyBooked) {
                        dayCell.classList.add('bg-white/20', 'text-steamWhite/60');
                    } else {
                        dayCell.classList.add('hover:bg-white/10');
                    }
                    
                    dayCell.textContent = day;
                    
                    // Add click event to select date
                    dayCell.addEventListener('click', function() {
                        if (!isPast) { // Only allow selecting future dates
                            selectedDate = dayDate;
                            selectedDateEl.textContent = dayDate.toDateString();
                            
                            // Highlight selected date
                            document.querySelectorAll('#calendar-grid div').forEach(cell => {
                                cell.classList.remove('ring-2', 'ring-white');
                            });
                            dayCell.classList.add('ring-2', 'ring-white');
                            
                            // Show available times for the selected date
                            showAvailableTimes(dayDate);
                        }
                    });
                    
                    calendarGrid.appendChild(dayCell);
                }
            }
            
            // Function to show available times for a selected date
            function showAvailableTimes(date) {
                availableTimesEl.innerHTML = '';
                
                // Mock available times (9am to 6pm in 1-hour increments)
                for (let hour = 9; hour <= 18; hour++) {
                    const timeDiv = document.createElement('div');
                    timeDiv.className = 'bg-charcoal text-steamWhite p-2 rounded-sm text-center cursor-pointer hover:bg-black transition-all';
                    
                    // Format time (convert to 12-hour format)
                    const period = hour >= 12 ? 'PM' : 'AM';
                    const displayHour = hour > 12 ? hour - 12 : hour === 0 ? 12 : hour;
                    const timeString = `${displayHour}:00 ${period}`;
                    
                    timeDiv.textContent = timeString;
                    
                    // Randomly determine if time slot is available (mock data)
                    const isAvailable = Math.random() > 0.3;
                    
                    if (!isAvailable) {
                        timeDiv.classList.add('bg-white/20', 'text-steamWhite/50', 'cursor-not-allowed');
                        timeDiv.style.opacity = '0.6';
                    }
                    
                    // Add click event to select time
                    timeDiv.addEventListener('click', function() {
                        if (isAvailable) {
                            // Highlight selected time
                            document.querySelectorAll('#available-times div').forEach(time => {
                                time.classList.remove('ring-2', 'ring-barberRed');
                            });
                            timeDiv.classList.add('ring-2', 'ring-barberRed');
                            
                            // Show services section after time selection
                            document.getElementById('services-section').classList.remove('hidden');
                        }
                    });
                    
                    availableTimesEl.appendChild(timeDiv);
                }
            }
            
            // Initialize calendar
            renderCalendar();
            
            // Mobile menu toggle functionality
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            const mobileSidebarOverlay = document.getElementById('mobile-sidebar-overlay');

            function openSidebar() {
                sidebar.classList.remove('-translate-x-full');
                mobileSidebarOverlay.classList.remove('hidden');
                setTimeout(() => {
                    mobileSidebarOverlay.classList.remove('opacity-0');
                    mobileSidebarOverlay.classList.add('opacity-100');
                }, 10);
                document.body.style.overflow = 'hidden';
            }

            function closeSidebar() {
                sidebar.classList.add('-translate-x-full');
                mobileSidebarOverlay.classList.remove('opacity-100');
                mobileSidebarOverlay.classList.add('opacity-0');
                setTimeout(() => {
                    mobileSidebarOverlay.classList.add('hidden');
                }, 300);
                document.body.style.overflow = '';
            }

            if (mobileMenuToggle && sidebar) {
                mobileMenuToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (sidebar.classList.contains('-translate-x-full')) {
                        openSidebar();
                    } else {
                        closeSidebar();
                    }
                });

                // Close sidebar button
                const closeSidebarBtn = document.getElementById('close-sidebar');
                if (closeSidebarBtn) {
                    closeSidebarBtn.addEventListener('click', closeSidebar);
                }

                // Close sidebar when clicking overlay
                if (mobileSidebarOverlay) {
                    mobileSidebarOverlay.addEventListener('click', closeSidebar);
                }

                // Close sidebar when clicking a nav link on mobile
                sidebar.querySelectorAll('nav a').forEach(link => {
                    link.addEventListener('click', function() {
                        if (window.innerWidth < 768) {
                            closeSidebar();
                        }
                    });
                });

                // Handle window resize to reset sidebar on desktop views
                window.addEventListener('resize', function() {
                    if (window.innerWidth >= 768) {
                        sidebar.classList.remove('-translate-x-full');
                        mobileSidebarOverlay.classList.add('hidden');
                        document.body.style.overflow = '';
                    }
                });
            }
        });
    </script>
</body>
</html>